---
import Layout from "src/layouts/BaseLayout.astro";
import JobCard from "src/components/JobCard.astro";
import GridContainer from "src/components/GridContainer.astro";
import finishers from "src/assets/finishers.jpg";
import volvo from "src/assets/volvo.jpg";
import gum from "src/assets/gum.jpg";
import up from "src/assets/univers-paie.jpg";
import aa from "src/assets/atelier-amelie.png";
import ipv4 from "src/assets/ipv4.png";
import unixCmd from "src/assets/unix-cmd.png";
import ProjectCard from "src/components/ProjectCard.astro";

import Social from "src/components/Social.astro";
import Link from "src/components/Link.astro";
import { techList, techCategories } from "src/utils/techs-list";
import { iter } from "src/utils/functions";
---

<Layout title="Accueil">
  <section>
    <h2>Qui suis-je ? 🕵️‍♂️</h2>
    <p>
      Bonjour 👋 je m'appelle <span class="text-rose-400 text-lg">Alexandre Dos Reis</span> et je suis développeur fullstack
      depuis 2019. Depuis Decembre 2022, je travaille chez <Link href="https://www.finishers.com">finishers</Link>.
    </p>
    <p>
      Ce site me sert de portfolio mais aussi de recueil d'articles et procédures écrit pendant mes études, visible dans
      la partie <Link href="/blog">blog</Link>.
    </p>
    <div class="flex flex-wrap items-center gap-x-4">
      <p>Retrouvez-moi sur :</p>
      <Social />
    </div>
  </section>

  <section>
    <h2>Mes compétences 🤹</h2>
    <p>
      Mes principales compétences sont le développement d'application web, depuis la modélisation de données jusqu'à
      l'interface utilisateur, en passant par l'infrastructure et l'administration système.
    </p>
  </section>
  <section>
    <h2>Les technos 👨‍💻</h2>
    <p class="mb-8">Voici une liste non-exhaustive des technos que j'utilise :</p>
    {
      iter(techCategories, (cat, key) => ({ ...cat, key }))
        .sort((a, b) => {
          const allTechs = iter(techList, (t) => t.cat);
          const techALength = allTechs.filter((t) => t === a.key).length;
          const techBLength = allTechs.filter((t) => t === b.key).length;
          return techALength > techBLength ? -1 : 1;
        })
        .map((cat) => (
          <ul class="flex flex-wrap justify-center gap-y-1 gap-x-3 mb-3 list-none max-w-[500px] mx-auto">
            {iter(techList, (t) => t)
              .filter((t) => t.cat === cat.key)
              .map((t) => (
                <li
                  class={`${cat.color} border border-gray-400 text-gray-50 font-semibold px-3 py-1 rounded-xl whitespace-nowrap`}
                >
                  {t.label}
                </li>
              ))}
          </ul>
        ))
    }
  </section>

  <section>
    <h2>Mes derniers jobs 🏬</h2>
    <GridContainer>
      <JobCard
        image={finishers}
        href="https://www.finishers.com"
        title="Finishers"
        content="Full stack developper | 2022 - En cours"
      />
      <JobCard
        image={volvo}
        href="https://www.volvogroup.com/fr"
        title="Volvo Trucks"
        content="Digital & IT developer | 2021 - 2022"
      />
      <JobCard
        image={up}
        href="https://www.universpaie.com"
        title="HR-Path Univers Paie"
        content="Technicien d'exploitation | 2019 - 2021"
      />
      <JobCard
        image={gum}
        href="https://www.gum.paris"
        title="Green United Music"
        content="Ingénieur du son | 2012 - 2019"
      />
    </GridContainer>
  </section>

  <section>
    <h2 class="mb-4">Mes derniers projets 🎁</h2>
    <ProjectCard
      image={unixCmd}
      href="https://linux-debian-commandes.alexandre-dosreis.me"
      title="Lexique linux"
      content="Un lexique de commandes Unix."
      techs={["typescript", "nextjs", "jotai", "directus", "graphql"]}
      sourceSrc="https://github.com/alexandre-dos-reis/commands-v4"
    />
    <ProjectCard
      image={aa}
      href="https://atelier-amelie.fr"
      title="L'atelier d'Amélie"
      content="Le site d'Amélie Gille Dos Reis. Il est dédié à l'enluminure et à la calligraphie."
      techs={["symfony", "mariadb", "webcomponent", "react"]}
    />
    <ProjectCard
      image={ipv4}
      href="https://www.npmjs.com/package/ipv4-calc"
      title="Calculatrice IPv4"
      content="Une librarie Javascript permettant d'effectuer des calculs de réseaux IPv4."
      techs={["typescript", "nodejs"]}
      sourceSrc="https://github.com/alexandre-dos-reis/ipv4-calc"
    />
  </section>
</Layout>
