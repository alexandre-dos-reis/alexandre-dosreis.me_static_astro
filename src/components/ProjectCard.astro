---
import type { TechType } from "src/utils/techs-list";
import Link from "./Link.astro";
import TechStack from "./TechStack.astro";
import type { ImageMetadata } from "astro";

interface Props {
  href: string;
  image: ImageMetadata;
  title: string;
  content: string;
  techs: TechType[];
  sourceSrc?: string;
}

const { href, image, title, content, techs, sourceSrc } = Astro.props;
---

<div class="w-full grid grid-cols-1 md:grid-cols-2 mb-6 gap-6 rounded-lg">
  <Link href={href} class="overflow-hidden rounded-lg h-[200px]"
    ><img
      src={image.src}
      class="block w-full h-56 object-cover transition-all opacity-70 hover:opacity-30 hover:scale-105"
    />
  </Link>
  <div class="mx-6 mb-6 md:m-5 md:ml-0">
    <h3 class="mt-0 font-normal">
      <Link href={href}>{title}</Link>
    </h3>
    <p>{content}{sourceSrc && <Link href={sourceSrc}> Code source.</Link>}</p>
    <p class="mb-0 flex flex-wrap text-sm">
      <TechStack techs={techs} />
    </p>
  </div>
</div>
